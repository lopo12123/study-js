<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta title="删除事件">
        
        <style>
            div {
                width: 50px;
                height: 30px;
                margin: 10px auto;
                background-color: beige;
                border: solid 1px #ccc;
                text-align: center;
            }
        </style>
    </head>

    <body>
        <!-- 功能: 每个div都只能点击一次，第一次点击时弹出alert，之后点击无响应 -->
        <div>1</div>
        <div>2</div>
        <div>3</div>
        <script>
            var divs = document.querySelectorAll('div');

            for(var i = 0; i < divs.length; i ++) {
                // 1. 传统方法
                /* divs[i].onclick = function() {
                    alert('点击的文字内容是: ' + this.innerText);
                    this.onclick = null;  // 传统方式删除事件
                } */

                // 2. 监听方法
                divs[i].addEventListener('click', fn);
            }
            function fn() {  // 回调函数
                alert('点击的文字内容是: ' + this.innerText);
                this.removeEventListener('click', fn);  // 监听方法需要移除时里面的函数需要有函数名
            }
            
        </script>
    </body>
</html>